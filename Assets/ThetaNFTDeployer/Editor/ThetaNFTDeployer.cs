using System.Collections;
using System.Collections.Generic;
using System.Numerics;
using System.Text;
using Nethereum.ABI.FunctionEncoding.Attributes;
using Nethereum.ABI.Model;
using Nethereum.Contracts;
using Nethereum.Contracts.CQS;
using Nethereum.Contracts.Extensions;
using Nethereum.JsonRpc.UnityClient;
using UnityEditor;
using UnityEngine;
using UnityEngine.Networking;
using System.IO;
using Newtonsoft.Json;

// using Unity.EditorCoroutines.Editor;

public class ThetaNftDeployer : EditorWindow
{
    string privateKey;
    string account;

    NFTDeployment deployContract;

    GameObject redeemObjTrigger;
    Texture2D texture;
    bool showMeTheNFT=false;
    int objectID = 1;
    string tokenName;
    string tokenSymbol;
    bool includeWalletLoginWidgetInGame=true;
    Texture2D objectToDeploy;
    byte[] rawData;
    [MenuItem("Theta Tools/NFT Deployer")]
    public static void ShowWindow()
    {
        GetWindow(typeof(ThetaNftDeployer), true, "Theta NFT Deployer");      //GetWindow is a method inherited from the EditorWindow class
    }

 /*   [MenuItem("Theta Tools/NFT Deployer")]
    static void Init()
    {
        var window = GetWindow<ThetaNftDeployer>("Texture Previewer");
        //window.position = new Rect(0, 0, 1000, 1000);
        window.Show();
    }*/

    public class SmartContract
    {
        public string bytecodeSource;
        public string opcodes;
        public string sourceMap;
    }

    void OnGUI()
    {	
	if(deployContract==null)
		showMeTheNFT=false;
        GUILayout.Label("Wallet Settings", EditorStyles.boldLabel);
        privateKey = EditorGUILayout.TextField("Private Key", privateKey);
        account = EditorGUILayout.TextField("Account Address", account);

        GUILayout.Label("");
	
        GUILayout.Label("In Game Features", EditorStyles.boldLabel);
        includeWalletLoginWidgetInGame = EditorGUILayout.Toggle("Wallet Login Widget", includeWalletLoginWidgetInGame);

     GUILayout.BeginVertical();
        GUILayout.Label("");
        GUILayout.Label("NFT Settings", EditorStyles.boldLabel);
        tokenName = EditorGUILayout.TextField("NFT Name", tokenName);
        tokenSymbol = EditorGUILayout.TextField("NFT Symbol", tokenSymbol);
        objectToDeploy = EditorGUILayout.ObjectField("Object to deploy", objectToDeploy, typeof(Texture2D), true, GUILayout.Height(EditorGUIUtility.singleLineHeight)) as Texture2D;

     GUILayout.EndVertical();

        if (GUILayout.Button("Deploy as NFT")){ 
            Debug.Log("Deploy as NFT");
            // this.StartCoroutine(DeployObject());
        }
        GUILayout.Label("");
        if (deployContract!=null && GUILayout.Button("Retrieve NFT")){ 
            Debug.Log("RetrieveImage image on EdgeNode");
        	   // this.StartCoroutine(RetrieveImage());
        }
	if(deployContract!=null && showMeTheNFT){
		texture= new Texture2D(100,100);
        		 //var rawData = System.IO.File.ReadAllBytes("Assets/aaa.png");
		texture.LoadImage(rawData);
        		GUILayout.Label("NFT preview", EditorStyles.boldLabel);
        		GUILayout.Label(texture);
	}
        if (deployContract!=null){
        		redeemObjTrigger = EditorGUILayout.ObjectField("Redeem function trigger", redeemObjTrigger, typeof(GameObject), true, GUILayout.Height(EditorGUIUtility.singleLineHeight)) as GameObject;
        		if (GUILayout.Button("Bind 'NFT Redeem' action to a game object")){ 
        	 		 NFTReedemer();
        		}
	
	}

    }

	private void NFTReedemer(){
            Debug.Log("NFT reedemer");
	}




  private IEnumerator RetrieveImage()
    {	
        Debug.Log("deployContract.TokenUri: " + deployContract.TokenUri);
	
	 UnityWebRequest request = UnityWebRequestTexture.GetTexture(deployContract.TokenUri);
   	 yield return request.SendWebRequest();
    	 if(request.isNetworkError || request.isHttpError) 
       	    Debug.Log(request.error);
    	else{
        	    rawData = ((DownloadHandlerTexture) request.downloadHandler).data;
	}
        /* var request = new UnityWebRequest("http://localhost:19888/rpc", "POST");
	string bodyJsonString = "{\"jsonrpc\":\"2.0\",\"method\":\"edgestore.GetFile\",\"params\":[{\"key\": \"0xdacc9a23035a458f21aa0cb51189d715cb5c43d7ff4c0227cca5c25eeef3d5b4\"}],\"id\":1}";
        byte[] bodyRaw = Encoding.UTF8.GetBytes(bodyJsonString);
        request.uploadHandler = (UploadHandler) new UploadHandlerRaw(bodyRaw);
        request.downloadHandler = (DownloadHandler) new DownloadHandlerBuffer();
        request.SetRequestHeader("Content-Type", "application/json");
        yield return request.SendWebRequest();
        Debug.Log("Status Code: " + request.responseCode);*/
	showMeTheNFT=true;
    }



    private IEnumerator DeployObject()
    {
	var request = new UnityWebRequest("http://localhost:19888/rpc", "POST");
	string filePath = Path.Combine(Directory.GetCurrentDirectory(), AssetDatabase.GetAssetPath(objectToDeploy));
	string bodyJsonString = "{\"jsonrpc\":\"2.0\",\"method\":\"edgestore.PutFile\",\"params\":[{\"path\": \""+filePath+"\"}],\"id\":2}";
        byte[] bodyRaw = Encoding.UTF8.GetBytes(bodyJsonString);
        request.uploadHandler = (UploadHandler) new UploadHandlerRaw(bodyRaw);
        request.downloadHandler = (DownloadHandler) new DownloadHandlerBuffer();
        request.SetRequestHeader("Content-Type", "application/json");
        yield return request.SendWebRequest();

        var data = request.downloadHandler.text;
        Debug.Log("data: " + data);

    	dynamic objects = JsonConvert.DeserializeObject(data); // parse as array  
	string tokenUri = "http://localhost:8080/api/v1/file?key="+objects.result.key+"&relpath="+objects.result.relpath;
    /*  if(objectToDeploy == null)
        {
            Debug.LogError("Error: Please choose wich object you want to deploy as NFT.");
            return;
        } */
        var url = "https://eth-rpc-api-testnet.thetatoken.org/rpc";
        //initialising the transaction request sender
        var transactionRequest = new TransactionSignedUnityRequest(url, privateKey, 365);
        // transactionRequest.UseLegacyAsDefault = true;


        deployContract = new NFTDeployment()
        {
            TokenUri = tokenUri,
            TokenName = tokenName,
            TokenSymbol = tokenSymbol
        };

        //deploy the contract and True indicates we want to estimate the gas
        yield return transactionRequest.SignAndSendDeploymentContractTransaction<NFTDeploymentBase>(deployContract);

        if (transactionRequest.Exception != null)
        {
            Debug.Log(transactionRequest.Exception.Message);
            yield break;
        }

        var transactionHash = transactionRequest.Result;

        Debug.Log("Deployment transaction hash:" + transactionHash);

        //create a poll to get the receipt when mined
        var transactionReceiptPolling = new TransactionReceiptPollingRequest(url);
        //checking every 2 seconds for the receipt
        yield return transactionReceiptPolling.PollForReceipt(transactionHash, 2);
        var deploymentReceipt = transactionReceiptPolling.Result;

        Debug.Log("Deployment contract address:" + deploymentReceipt.ContractAddress);

    /*  if (objectBaseName == string.Empty) {
            Debug.LogError("Error: Please enter a base name for the object.");
            return;
        } */
/* 
        Vector3 spawnPos = new Vector3(spawnCircle.x, 0f, spawnCircle.y);

        GameObject newObject = Instantiate(objectToDeploy, spawnPos, Quaternion.identity); */
    }




    public partial class NFTDeployment : NFTDeploymentBase
    {
        public NFTDeployment() : base(BYTECODE) { }

        public NFTDeployment(string byteCode) : base(byteCode) { }
    }

    public class NFTDeploymentBase : ContractDeploymentMessage
    {
        
        public static string BYTECODE  = @"60806040523480156200001157600080fd5b506040516200256338038062002563833981810160405260608110156200003757600080fd5b81019080805160405193929190846401000000008211156200005857600080fd5b9083019060208201858111156200006e57600080fd5b82516401000000008111828201881017156200008957600080fd5b82525081516020918201929091019080838360005b83811015620000b85781810151838201526020016200009e565b50505050905090810190601f168015620000e65780820380516001836020036101000a031916815260200191505b50604052602001805160405193929190846401000000008211156200010a57600080fd5b9083019060208201858111156200012057600080fd5b82516401000000008111828201881017156200013b57600080fd5b82525081516020918201929091019080838360005b838110156200016a57818101518382015260200162000150565b50505050905090810190601f168015620001985780820380516001836020036101000a031916815260200191505b5060405260200180516040519392919084640100000000821115620001bc57600080fd5b908301906020820185811115620001d257600080fd5b8251640100000000811182820188101715620001ed57600080fd5b82525081516020918201929091019080838360005b838110156200021c57818101518382015260200162000202565b50505050905090810190601f1680156200024a5780820380516001836020036101000a031916815260200191505b5060405250849150839050620002676301ffc9a760e01b620002fc565b81516200027c90600690602085019062000ab1565b5080516200029290600790602084019062000ab1565b50620002a56380ac58cd60e01b620002fc565b620002b7635b5e139f60e01b620002fc565b620002c963780e9d6360e01b620002fc565b5060009050620002d862000381565b9050620002e633826200039f565b620002f28183620003c5565b5050505062000b4d565b6001600160e01b031980821614156200035c576040805162461bcd60e51b815260206004820152601c60248201527f544e543136353a20696e76616c696420696e7465726661636520696400000000604482015290519081900360640190fd5b6001600160e01b0319166000908152602081905260409020805460ff19166001179055565b60006200039a60026200043360201b62000cd41760201c565b905090565b620003c18282604051806020016040528060008152506200044660201b60201c565b5050565b620003d0826200049e565b6200040d5760405162461bcd60e51b815260040180806020018281038252602c81526020018062002537602c913960400191505060405180910390fd5b600082815260086020908152604090912082516200042e9284019062000ab1565b505050565b60006200044082620004bb565b92915050565b620004528383620004bf565b62000461600084848462000613565b6200042e5760405162461bcd60e51b8152600401808060200182810382526032815260200180620025056032913960400191505060405180910390fd5b600062000440826002620007a160201b62000cdf1790919060201c565b5490565b6001600160a01b0382166200051b576040805162461bcd60e51b815260206004820181905260248201527f544e543732313a206d696e7420746f20746865207a65726f2061646472657373604482015290519081900360640190fd5b62000526816200049e565b1562000579576040805162461bcd60e51b815260206004820152601c60248201527f544e543732313a20746f6b656e20616c7265616479206d696e74656400000000604482015290519081900360640190fd5b62000587600083836200042e565b6001600160a01b0382166000908152600160209081526040909120620005b891839062000ceb620007b6821b17901c565b50620005d681836002620007c460201b62000cf7179092919060201c565b5060405181906001600160a01b038416906000907fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef908290a45050565b600062000634846001600160a01b0316620007dc60201b62000d171760201c565b620006425750600162000799565b60606200076563df20cc6d60e01b6200065a620007e2565b88878760405160240180856001600160a01b03168152602001846001600160a01b0316815260200183815260200180602001828103825283818151815260200191508051906020019080838360005b83811015620006c3578181015183820152602001620006a9565b50505050905090810190601f168015620006f15780820380516001836020036101000a031916815260200191505b5095505050505050604051602081830303815290604052906001600160e01b0319166020820180516001600160e01b0383818316178352505050506040518060600160405280603281526020016200250560329139876001600160a01b0316620007e660201b62000d1d179092919060201c565b905060008180602001905160208110156200077f57600080fd5b50516001600160e01b031916630a85bd0160e11b14925050505b949350505050565b6000620007af8383620007f7565b9392505050565b6000620007af83836200080f565b60006200079984846001600160a01b0385166200085e565b3b151590565b3390565b6060620007998484600085620008f9565b60009081526001919091016020526040902054151590565b60006200081d8383620007f7565b620008555750815460018181018455600084815260208082209093018490558454848252828601909352604090209190915562000440565b50600062000440565b600082815260018401602052604081205480620008c5575050604080518082018252838152602080820184815286546001818101895560008981528481209551600290930290950191825591519082015586548684528188019092529290912055620007af565b82856000016001830381548110620008d957fe5b9060005260206000209060020201600101819055506000915050620007af565b60606200090685620007dc565b62000958576040805162461bcd60e51b815260206004820152601d60248201527f416464726573733a2063616c6c20746f206e6f6e2d636f6e7472616374000000604482015290519081900360640190fd5b60006060866001600160a01b031685876040518082805190602001908083835b60208310620009995780518252601f19909201916020918201910162000978565b6001836020036101000a03801982511681845116808217855250505050505090500191505060006040518083038185875af1925050503d8060008114620009fd576040519150601f19603f3d011682016040523d82523d6000602084013e62000a02565b606091505b5091509150811562000a18579150620007999050565b80511562000a295780518082602001fd5b8360405162461bcd60e51b81526004018080602001828103825283818151815260200191508051906020019080838360005b8381101562000a7557818101518382015260200162000a5b565b50505050905090810190601f16801562000aa35780820380516001836020036101000a031916815260200191505b509250505060405180910390fd5b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1062000af457805160ff191683800117855562000b24565b8280016001018555821562000b24579182015b8281111562000b2457825182559160200191906001019062000b07565b5062000b3292915062000b36565b5090565b5b8082111562000b32576000815560010162000b37565b6119a88062000b5d6000396000f3fe608060405234801561001057600080fd5b506004361061010b5760003560e01c80634f6ccce7116100a257806395d89b411161007157806395d89b4114610349578063a22cb46514610351578063b88d4fde1461037f578063c87b56dd14610445578063e985e9c5146104625761010b565b80634f6ccce7146102e15780636352211e146102fe5780636c0360eb1461031b57806370a08231146103235761010b565b806318160ddd116100de57806318160ddd1461022f57806323b872dd146102495780632f745c591461027f57806342842e0e146102ab5761010b565b806301ffc9a71461011057806306fdde031461014b578063081812fc146101c8578063095ea7b314610201575b600080fd5b6101376004803603602081101561012657600080fd5b50356001600160e01b031916610490565b604080519115158252519081900360200190f35b6101536104b3565b6040805160208082528351818301528351919283929083019185019080838360005b8381101561018d578181015183820152602001610175565b50505050905090810190601f1680156101ba5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b6101e5600480360360208110156101de57600080fd5b5035610549565b604080516001600160a01b039092168252519081900360200190f35b61022d6004803603604081101561021757600080fd5b506001600160a01b0381351690602001356105ab565b005b610237610686565b60408051918252519081900360200190f35b61022d6004803603606081101561025f57600080fd5b506001600160a01b03813581169160208101359091169060400135610697565b6102376004803603604081101561029557600080fd5b506001600160a01b0381351690602001356106ee565b61022d600480360360608110156102c157600080fd5b506001600160a01b03813581169160208101359091169060400135610719565b610237600480360360208110156102f757600080fd5b5035610734565b6101e56004803603602081101561031457600080fd5b503561074a565b610153610772565b6102376004803603602081101561033957600080fd5b50356001600160a01b03166107d3565b61015361083b565b61022d6004803603604081101561036757600080fd5b506001600160a01b038135169060200135151561089c565b61022d6004803603608081101561039557600080fd5b6001600160a01b038235811692602081013590911691604082013591908101906080810160608201356401000000008111156103d057600080fd5b8201836020820111156103e257600080fd5b8035906020019184600183028401116401000000008311171561040457600080fd5b91908080601f0160208091040260200160405190810160405280939291908181526020018383808284376000920191909152509295506109a1945050505050565b6101536004803603602081101561045b57600080fd5b50356109ff565b6101376004803603604081101561047857600080fd5b506001600160a01b0381358116916020013516610ca6565b6001600160e01b0319811660009081526020819052604090205460ff165b919050565b60068054604080516020601f600260001961010060018816150201909516949094049384018190048102820181019092528281526060939092909183018282801561053f5780601f106105145761010080835404028352916020019161053f565b820191906000526020600020905b81548152906001019060200180831161052257829003601f168201915b5050505050905090565b600061055482610d2c565b61058f5760405162461bcd60e51b815260040180806020018281038252602c8152602001806118ec602c913960400191505060405180910390fd5b506000908152600460205260409020546001600160a01b031690565b60006105b68261074a565b9050806001600160a01b0316836001600160a01b031614156106095760405162461bcd60e51b81526004018080602001828103825260218152602001806117ec6021913960400191505060405180910390fd5b806001600160a01b031661061b610d39565b6001600160a01b0316148061063c575061063c81610637610d39565b610ca6565b6106775760405162461bcd60e51b815260040180806020018281038252603881526020018061183f6038913960400191505060405180910390fd5b6106818383610d3d565b505050565b60006106926002610cd4565b905090565b6106a86106a2610d39565b82610dab565b6106e35760405162461bcd60e51b81526004018080602001828103825260318152602001806119426031913960400191505060405180910390fd5b610681838383610e4f565b6001600160a01b03821660009081526001602052604081206107109083610f9b565b90505b92915050565b610681838383604051806020016040528060008152506109a1565b600080610742600284610fa7565b509392505050565b6000610713826040518060600160405280602981526020016117c36029913960029190610fc3565b60098054604080516020601f600260001961010060018816150201909516949094049384018190048102820181019092528281526060939092909183018282801561053f5780601f106105145761010080835404028352916020019161053f565b60006001600160a01b03821661081a5760405162461bcd60e51b815260040180806020018281038252602a815260200180611918602a913960400191505060405180910390fd5b6001600160a01b038216600090815260016020526040902061071390610cd4565b60078054604080516020601f600260001961010060018816150201909516949094049384018190048102820181019092528281526060939092909183018282801561053f5780601f106105145761010080835404028352916020019161053f565b6108a4610d39565b6001600160a01b0316826001600160a01b0316141561090a576040805162461bcd60e51b815260206004820152601960248201527f544e543732313a20617070726f766520746f2063616c6c657200000000000000604482015290519081900360640190fd5b8060056000610917610d39565b6001600160a01b03908116825260208083019390935260409182016000908120918716808252919093529120805460ff19169215159290921790915561095b610d39565b6001600160a01b03167f17307eab39ab6107e8899845ad3d59bd9653f200f220920489ca2b5937696c318360405180821515815260200191505060405180910390a35050565b6109b26109ac610d39565b83610dab565b6109ed5760405162461bcd60e51b81526004018080602001828103825260318152602001806119426031913960400191505060405180910390fd5b6109f984848484610fd0565b50505050565b6060610a0a82610d2c565b610a455760405162461bcd60e51b815260040180806020018281038252602f81526020018061189b602f913960400191505060405180910390fd5b60008281526008602090815260409182902080548351601f6002600019610100600186161502019093169290920491820184900484028101840190945280845260609392830182828015610ada5780601f10610aaf57610100808354040283529160200191610ada565b820191906000526020600020905b815481529060010190602001808311610abd57829003601f168201915b505060095493945050505060026000196101006001841615020190911604610b035790506104ae565b805115610bd4576009816040516020018083805460018160011615610100020316600290048015610b6b5780601f10610b49576101008083540402835291820191610b6b565b820191906000526020600020905b815481529060010190602001808311610b57575b5050825160208401908083835b60208310610b975780518252601f199092019160209182019101610b78565b6001836020036101000a038019825116818451168082178552505050505050905001925050506040516020818303038152906040529150506104ae565b6009610bdf84611022565b6040516020018083805460018160011615610100020316600290048015610c3d5780601f10610c1b576101008083540402835291820191610c3d565b820191906000526020600020905b815481529060010190602001808311610c29575b5050825160208401908083835b60208310610c695780518252601f199092019160209182019101610c4a565b6001836020036101000a03801982511681845116808217855250505050505090500192505050604051602081830303815290604052915050919050565b6001600160a01b03918216600090815260056020908152604080832093909416825291909152205460ff1690565b6000610713826110fd565b60006107108383611101565b60006107108383611119565b6000610d0d84846001600160a01b038516611163565b90505b9392505050565b3b151590565b6060610d0d84846000856111fa565b6000610713600283610cdf565b3390565b600081815260046020526040902080546001600160a01b0319166001600160a01b0384169081179091558190610d728261074a565b6001600160a01b03167f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b92560405160405180910390a45050565b6000610db682610d2c565b610df15760405162461bcd60e51b815260040180806020018281038252602c81526020018061176e602c913960400191505060405180910390fd5b6000610dfc8361074a565b9050806001600160a01b0316846001600160a01b03161480610e375750836001600160a01b0316610e2c84610549565b6001600160a01b0316145b80610e475750610e478185610ca6565b949350505050565b826001600160a01b0316610e628261074a565b6001600160a01b031614610ea75760405162461bcd60e51b815260040180806020018281038252602981526020018061179a6029913960400191505060405180910390fd5b6001600160a01b038216610eec5760405162461bcd60e51b81526004018080602001828103825260248152602001806118776024913960400191505060405180910390fd5b610ef7838383610681565b610f02600082610d3d565b6001600160a01b0383166000908152600160205260409020610f2490826113a5565b506001600160a01b0382166000908152600160205260409020610f479082610ceb565b50610f5460028284610cf7565b5080826001600160a01b0316846001600160a01b03167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef60405160405180910390a4505050565b600061071083836113b1565b6000808080610fb68686611415565b9097909650945050505050565b6000610d0d848484611490565b610fdb848484610e4f565b610fe78484848461151d565b6109f95760405162461bcd60e51b815260040180806020018281038252603281526020018061180d6032913960400191505060405180910390fd5b60608161104757506040805180820190915260018152600360fc1b60208201526104ae565b8160005b811561105f57600101600a8204915061104b565b60608167ffffffffffffffff8111801561107857600080fd5b506040519080825280601f01601f1916602001820160405280156110a3576020820181803683370190505b50859350905060001982015b83156110f457600a840660300160f81b828280600190039350815181106110d257fe5b60200101906001600160f81b031916908160001a905350600a840493506110af565b50949350505050565b5490565b60009081526001919091016020526040902054151590565b60006111258383611101565b61115b57508154600181810184556000848152602080822090930184905584548482528286019093526040902091909155610713565b506000610713565b6000828152600184016020526040812054806111c8575050604080518082018252838152602080820184815286546001818101895560008981528481209551600290930290950191825591519082015586548684528188019092529290912055610d10565b828560000160018303815481106111db57fe5b9060005260206000209060020201600101819055506000915050610d10565b606061120585610d17565b611256576040805162461bcd60e51b815260206004820152601d60248201527f416464726573733a2063616c6c20746f206e6f6e2d636f6e7472616374000000604482015290519081900360640190fd5b60006060866001600160a01b031685876040518082805190602001908083835b602083106112955780518252601f199092019160209182019101611276565b6001836020036101000a03801982511681845116808217855250505050505090500191505060006040518083038185875af1925050503d80600081146112f7576040519150601f19603f3d011682016040523d82523d6000602084013e6112fc565b606091505b50915091508115611310579150610e479050565b8051156113205780518082602001fd5b8360405162461bcd60e51b81526004018080602001828103825283818151815260200191508051906020019080838360005b8381101561136a578181015183820152602001611352565b50505050905090810190601f1680156113975780820380516001836020036101000a031916815260200191505b509250505060405180910390fd5b60006107108383611685565b815460009082106113f35760405162461bcd60e51b815260040180806020018281038252602281526020018061174c6022913960400191505060405180910390fd5b82600001828154811061140257fe5b9060005260206000200154905092915050565b8154600090819083106114595760405162461bcd60e51b81526004018080602001828103825260228152602001806118ca6022913960400191505060405180910390fd5b600084600001848154811061146a57fe5b906000526020600020906002020190508060000154816001015492509250509250929050565b600082815260018401602052604081205482816114ee5760405162461bcd60e51b815260206004820181815283516024840152835190928392604490910191908501908083836000831561136a578181015183820152602001611352565b5084600001600182038154811061150157fe5b9060005260206000209060020201600101549150509392505050565b6000611531846001600160a01b0316610d17565b61153d57506001610e47565b606061164b63df20cc6d60e01b611552610d39565b88878760405160240180856001600160a01b03168152602001846001600160a01b0316815260200183815260200180602001828103825283818151815260200191508051906020019080838360005b838110156115b95781810151838201526020016115a1565b50505050905090810190601f1680156115e65780820380516001836020036101000a031916815260200191505b5095505050505050604051602081830303815290604052906001600160e01b0319166020820180516001600160e01b03838183161783525050505060405180606001604052806032815260200161180d603291396001600160a01b0388169190610d1d565b9050600081806020019051602081101561166457600080fd5b50516001600160e01b031916630a85bd0160e11b1492505050949350505050565b6000818152600183016020526040812054801561174157835460001980830191908101906000908790839081106116b857fe5b90600052602060002001549050808760000184815481106116d557fe5b60009182526020808320909101929092558281526001898101909252604090209084019055865487908061170557fe5b60019003818190600052602060002001600090559055866001016000878152602001908152602001600020600090556001945050505050610713565b600091505061071356fe456e756d657261626c655365743a20696e646578206f7574206f6620626f756e6473544e543732313a206f70657261746f7220717565727920666f72206e6f6e6578697374656e7420746f6b656e544e543732313a207472616e73666572206f6620746f6b656e2074686174206973206e6f74206f776e544e543732313a206f776e657220717565727920666f72206e6f6e6578697374656e7420746f6b656e544e543732313a20617070726f76616c20746f2063757272656e74206f776e6572544e543732313a207472616e7366657220746f206e6f6e20544e54373231526563656976657220696d706c656d656e746572544e543732313a20617070726f76652063616c6c6572206973206e6f74206f776e6572206e6f7220617070726f76656420666f7220616c6c544e543732313a207472616e7366657220746f20746865207a65726f2061646472657373544e543732314d657461646174613a2055524920717565727920666f72206e6f6e6578697374656e7420746f6b656e456e756d657261626c654d61703a20696e646578206f7574206f6620626f756e6473544e543732313a20617070726f76656420717565727920666f72206e6f6e6578697374656e7420746f6b656e544e543732313a2062616c616e636520717565727920666f7220746865207a65726f2061646472657373544e543732313a207472616e736665722063616c6c6572206973206e6f74206f776e6572206e6f7220617070726f766564a26469706673582212209d2764607b281784933048d6ef5d7d5601a38fb9114b72e36b1f97684b8c35a364736f6c634300060c0033544e543732313a207472616e7366657220746f206e6f6e20544e54373231526563656976657220696d706c656d656e746572544e543732314d657461646174613a2055524920736574206f66206e6f6e6578697374656e7420746f6b656e";
        


        public NFTDeploymentBase() : base(BYTECODE) { }

        public NFTDeploymentBase(string byteCode) : base(byteCode) { }

        [Parameter("string", "name", 1)]
        public string TokenName { get; set; }
        [Parameter("string", "symbol", 2)]
        public string TokenSymbol { get; set; }
        [Parameter("string", "uri", 3)]
        public string TokenUri { get; set; }
        } 
    }
